<div class="home-container">
  <header class="page-header">
    <div class="header-content">
      <div class="header-text">
        <h1>Libraries</h1>
        <p class="subtitle">Browse and explore our collection of libraries</p>
      </div>
      @if (rigthOfManage()) {
        <button mat-raised-button color="primary" routerLink="/library/new">
          <mat-icon>add</mat-icon>
          Create Library
        </button>
      }
    </div>
  </header>

  <!-- Loading Indicator -->
  @if (isLoading()) {
    <div class="loading-container">
      <mat-spinner diameter="50"></mat-spinner>
      <p>Loading libraries...</p>
    </div>
  }

  <!-- Libraries Grid -->
  @else if (libraries().length > 0) {
    <div class="libraries-grid">
      @for (library of libraries(); track trackByLibraryId($index, library)) {
        <mat-card class="library-card" [routerLink]="['/library', library.id]">
          <mat-card-header>
            <mat-card-title>{{ library.name }}</mat-card-title>
          </mat-card-header>

          <mat-card-content>
            @if (library.description) {
              <p class="library-description">{{ library.description }}</p>
            }

            @if (library.location) {
              <div class="library-location">
                <mat-icon>location_on</mat-icon>
                <span>{{ library.location }}</span>
              </div>
            }
          </mat-card-content>

          <mat-card-actions align="end">
            <button mat-button color="primary">
              View Books
              <mat-icon>arrow_forward</mat-icon>
            </button>
          </mat-card-actions>
        </mat-card>
      }
    </div>
  }

  <!-- Empty State -->
  @else {
    <div class="empty-state">
      <mat-icon class="empty-icon">library_books</mat-icon>
      <h2>No Libraries Yet</h2>
      @if (rigthOfManage()) {
      <p>There are no libraries in the system. Create your first library to get started.</p>
      <button mat-raised-button color="primary" routerLink="/library/new">
        <mat-icon>add</mat-icon>
        Create Your First Library
      </button>
      }
    </div>
  }
</div>
